# Link_shortening_service

В проекте реализован бэкенд для веб-сервиса сокращения ссылок.
Запускается локальный сервер, при отправлении ссылки в POST запросе в формате JSON, возвращается случайно сгенерированная уникальная ссылка (также в формате JSON),
которая сохраняется в базе данных. При переходе на данную ссылку, сервер перенаправляет на исходную ссылку.

При запуске сервера, ему можно передать домен и порт, который будет использоваться для формирования короткой ссылки. 
Если ничего не передавать, то будет использован домен и порт, установленный по умолчанию (http://localhost:5000).

В программе искпользуются модули sqlite3, random, re, argparse, flask.

Чтобы запустить сервер, нужно вызвать командную строку из папки с проектом. 
Запуск: python server.py, или python server.py --base-url http://localhost:PORT, где localhost и PORT задается свой.

После запуска сервера, нужно отправить POST запрос через postman на адрес http://localhost:PORT в формате JSON. 

Например: {"url": "https://yandex.ru/"}. 

Сервер проверит, есть ли указанная ссылка в базе данных links.db и, если есть, то возьмет соответствующий этой ссылке токен,
соединит его с указанным при запуске программы доменом и вернет JSON: {"shorten": "http://localhost:5000/Uhcjr63H"}.
Если же, указанная ссылка не найдется в бд, то сгенерируется новый уникальный токен, и запишется в базу данных.

После можно скопировать короткую ссылку и вставить в адресную строку браузера (http://localhost:5000/Uhcjr63H), сервер проверяет наличие короткой ссылки в бд,
и если она найдена, то возвращает исходную ссылку и перенаправляет по ней. Если короткая ссылка не найдена в базе данных, то сервер возвращает JSON {"error": "Not found"}
и статус 404.

В базе данных так же хранится количество переходов по короткой ссылке, и после перехода инкрементируется. Фактически, идет подсчет того,
сколько раз отработал метод перенаправления с короткой ссылки на исходную для определенной ссылки.
